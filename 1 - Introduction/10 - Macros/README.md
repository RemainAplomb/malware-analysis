# Macros

## Overview

Macros in assembly language are essentially a set of instructions that you want to use repeatedly, instead of writing the same sequence of instructions every time. This can save significant time and make your program more readable. It allows you to create more readable and maintainable code by abstracting away complex sequences of instructions into reusable blocks. Understanding macros can lead to more efficient and effective Assembly programming.

## Defining Macros

In Assembly, macros are defined using the %macro directive and ended with the %endmacro directive. Here is a simple example of a macro:

```
%macro print 1
    mov eax, 4 ; syscall number (sys_write)
    mov ebx, 1 ; file descriptor (stdout)
    mov ecx, %1 ; message to write
    mov edx, %1_len ; message length
    int 0x80 ; call kernel
%endmacro
```

In this example, print is a macro that writes a message to stdout using the sys_write system call.

## Using Macros

You can use a macro in your program just like you would call a function in high-level languages. Here's how to use the print macro we defined earlier:

```
section .data
message db 'Hello, World!', 0

section .text
global _start

_start:
    print message ; Call the macro
    ; other instructions...
```

## Parameterized Macros

Macros can also take parameters, which allows them to be more flexible. The parameters are referenced in the macro definition using %1, %2, etc. For example, here's a macro that adds two numbers:

```
%macro add 2
    mov eax, %1
    add eax, %2
%endmacro
```

This add macro can be used like this:

```
section .text
global _start

_start:
    add 5, 7 ; Call the macro with parameters 5 and 7
    ; EAX now holds the result (12)
    ; other instructions...
```
