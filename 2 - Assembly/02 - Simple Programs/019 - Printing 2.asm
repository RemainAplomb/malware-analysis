; includes
include \masm32\include\masm32rt.inc

; MASM Printing Examples

.model small  ; Define the memory model of our program.

.stack 100h   ; Define the size of the stack.

.data          ; Begin the data segment where variables are defined.

    ; Variables for string and character output
    strMessage db "Hello, World!", "$"  ; Declare a string with a '$' terminator.
    charVar db 'A'  ; Declare a single character.

    ; Variables for integer output
    numVar dw 12345  ; Declare an integer.

.code          ; Begin the code segment where our code is placed.

main proc      ; Start of a procedure

    ; Load the data segment into ds
    mov ax, @data
    mov ds, ax

    ; Print a string
    mov ah, 09h  ; Function 09h of INT 21h prints a string.
    lea dx, strMessage  ; Load the address of the string into dx.
    int 21h  ; Trigger the software interrupt.

    ; Print a character
    mov ah, 02h  ; Function 02h of INT 21h prints a character.
    mov dl, charVar  ; Load the character into dl.
    int 21h  ; Trigger the software interrupt.

    ; Print a newline
    mov ah, 02h
    mov dl, 0Dh  ; ASCII value for carriage return.
    int 21h
    mov dl, 0Ah  ; ASCII value for line feed.
    int 21h

    ; Print an integer
    ; Printing integers in assembly is more complex and typically involves
    ; converting the integer to a string and then printing the string.
    ; For simplicity, this example just prints the integer's hexadecimal representation directly.
    mov ax, numVar  ; Load the integer into ax.
    add ax, 3030h  ; Convert the hexadecimal digits to ASCII.
    mov bx, ax  ; Store the result in bx for later.
    mov ah, 02h  ; Prepare to print a character.
    mov dl, bh  ; Print the high byte of bx.
    int 21h
    mov dl, bl  ; Print the low byte of bx.
    int 21h

    ; End the program
    mov ax, 4C00h
    int 21h

main endp       ; End of the 'main' procedure
end main        ; End of the program

