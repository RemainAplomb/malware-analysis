; includes
include \masm32\include\masm32rt.inc

; MASM Example - Copying Variables

.386
.model flat, stdcall
option casemap :none

include \masm32\include\windows.inc
include \masm32\include\kernel32.inc
includelib \masm32\lib\kernel32.lib

.data
; Here we declare our variables
source DWORD 1234
destination DWORD ?

.code

main PROC
    ; First, we load the address of the source variable into esi
    lea esi, source

    ; Then, we load the address of the destination variable into edi
    lea edi, destination

    ; Now, we can copy the contents of the source variable to the destination variable
    ; We use movsd because our variables are double words (4 bytes)
    movsd

    ; At this point, the destination variable contains the same value as the source variable

    ; Then we terminate the program
    push 0
    call ExitProcess
main ENDP

end main
