; includes
include \masm32\include\masm32rt.inc

; MASM Example - Procedure with Parameters

.386
.model flat, stdcall
option casemap :none

include \masm32\include\windows.inc
include \masm32\include\kernel32.inc
includelib \masm32\lib\kernel32.lib

.code

; Here we define our procedure that takes two parameters
; It adds two numbers and stores the result in eax
AddNumbers PROC, num1:DWORD, num2:DWORD
    ; We add the numbers together and store the result in eax
    mov eax, num1
    add eax, num2

    ; The result is now in eax, so we can simply return
    ret
AddNumbers ENDP

.code

main PROC
    ; We push the parameters onto the stack in reverse order
    push 5 ; second number
    push 3 ; first number

    ; We call our AddNumbers procedure
    call AddNumbers

    ; The result is now in eax
    ; For now, let's just do nothing with it

    ; We need to clean up the stack since we pushed parameters onto it
    add esp, 8 ; 8 because we pushed two 4-byte parameters

    ; Then we terminate the program
    push 0
    call ExitProcess
main ENDP

end main
