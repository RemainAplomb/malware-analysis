; MASM Example - Find File Directory
; includes
include \masm32\include\masm32rt.inc

.386
.model flat, stdcall
option casemap :none

include \masm32\include\windows.inc
include \masm32\include\kernel32.inc
include \masm32\include\masm32.inc
includelib \masm32\lib\kernel32.lib
includelib \masm32\lib\masm32.lib

.data
    searchPattern db "myfile.txt",0
    winFindData WIN32_FIND_DATA <>
    fileFound db "File found!",0
    fileNotFound db "File not found.",0

.code
start:
    ; Initialize the file search
    invoke FindFirstFile, addr searchPattern, addr winFindData
    cmp eax, INVALID_HANDLE_VALUE  ; Check if the file was found
    jne file_found

    ; File not found
    invoke StdOut, addr fileNotFound
    jmp end_program

file_found:
    ; File found
    invoke StdOut, addr fileFound

end_program:
    ; Terminate the process
    invoke ExitProcess, 0
end start

