; includes
include \masm32\include\masm32rt.inc

; MASM Example - Get First N Characters of a String

.386
.model flat, stdcall
option casemap :none

include \masm32\include\windows.inc
include \masm32\include\kernel32.inc
includelib \masm32\lib\kernel32.lib

.data
originalString db "This is the original string.", 0
newString db 50 dup(0) ; Buffer for new string, 50 is just an arbitrary size
nCharacters equ 10 ; We want the first 10 characters

.code

main PROC
    ; Load the address of originalString into esi
    lea esi, originalString

    ; Load the address of newString into edi
    lea edi, newString

    ; Move the first nCharacters from originalString to newString
    mov ecx, nCharacters
    rep movsb ; This instruction will move 'nCharacters' bytes from [esi] to [edi]

    ; At this point, newString contains the first nCharacters of originalString

    ; Then we terminate the program
    push 0
    call ExitProcess
main ENDP

end main
