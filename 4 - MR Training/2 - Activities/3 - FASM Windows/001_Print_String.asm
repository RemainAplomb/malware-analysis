; Print String

format PE Console
entry main

include 'win32ax.inc'

; Define constants and data
section '.data' data readable writeable
    prompt_msg db "This is a String ",0
    prompt_len = $ - prompt_msg

    bytes_written dd ?
    stdout dd ?

; Main code section
section '.text' code readable executable

main:
    ; Initialize stdout
    invoke GetStdHandle, STD_OUTPUT_HANDLE
    mov [stdout], eax

    ; Print prompt
    invoke WriteConsoleA, [stdout], prompt_msg, prompt_len, bytes_written, 0

exit_program:
    ; Exit the program
    invoke ExitProcess, 0


; Import section
section '.idata' data readable import
    library kernel32, 'kernel32.dll'
    
    import kernel32, \
        GetStdHandle, 'GetStdHandle', \
        WriteConsoleA, 'WriteConsoleA', \
        ReadConsoleA, 'ReadConsoleA', \
        ExitProcess, 'ExitProcess'